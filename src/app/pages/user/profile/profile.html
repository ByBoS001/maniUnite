<div class="bg-white rounded-2xl border border-gray-200 p-6 max-w-[1150px]">
  <!-- header -->
  <div class="flex items-center justify-between mb-6">
    <div class="flex items-center gap-3">
      <span class="inline-flex h-8 w-8 items-center justify-center rounded-full bg-emerald-100 text-emerald-700">üë§</span>
      <h2 class="text-xl font-semibold">Mi Perfil</h2>
    </div>

    <ng-container *ngIf="!edit; else actionsEdit">
      <button class="inline-flex items-center gap-2 px-4 py-2 rounded-lg bg-white border text-gray-800 hover:bg-gray-50"
              (click)="startEdit()">
        ‚úèÔ∏è <span>Editar perfil</span>
      </button>
    </ng-container>

    <ng-template #actionsEdit>
      <div class="flex gap-3">
        <button class="px-4 py-2 rounded-lg border bg-white hover:bg-gray-50" (click)="cancel()">Cancelar</button>
        <button class="px-4 py-2 rounded-lg bg-emerald-500 text-white hover:bg-emerald-600"
                (click)="save()">Guardar cambios</button>
      </div>
    </ng-template>
  </div>

  <!-- body -->
  <div class="grid grid-cols-1 md:grid-cols-12 gap-8">
    <!-- left card -->
    <div class="md:col-span-4">
      <div class="flex flex-col items-center gap-3">
        <div class="h-28 w-28 rounded-2xl bg-gray-100 border flex items-center justify-center text-3xl text-gray-400">
          üñºÔ∏è
        </div>
        <div class="text-lg font-medium">{{ model.name || 'Usuario' }}</div>
        <div class="text-sm text-gray-500">Miembro desde {{ model.miembroDesde }}</div>

        <div class="w-full mt-4 rounded-xl bg-gray-50 p-3 text-center text-sm text-gray-600">
          √öltimo acceso: {{ model.ultimoAcceso }}
        </div>

        <button class="mt-4 px-4 py-2 rounded-lg border bg-white hover:bg-gray-50">
          Cambiar contrase√±a
        </button>
      </div>
    </div>

    <!-- right form -->
    <div class="md:col-span-8 space-y-5">
      <!-- email (readonly) -->
      <div>
        <label class="block text-sm font-medium text-gray-700 mb-1">Email</label>
        <div class="relative">
          <input class="w-full rounded-lg border bg-gray-50 px-3 py-2" [value]="model.email" readonly />
          <span class="absolute right-2 top-1/2 -translate-y-1/2 text-xs text-gray-500 bg-gray-100 px-2 py-0.5 rounded-md">
            No editable
          </span>
        </div>
      </div>

      <!-- nombre -->
      <div>
        <label class="block text-sm font-medium text-gray-700 mb-1">Nombre completo</label>
        <input class="w-full rounded-lg border px-3 py-2"
               [readOnly]="!edit"
               [(ngModel)]="draft.name" [value]="model.name" />
      </div>

      <!-- tel√©fono -->
      <div>
        <label class="block text-sm font-medium text-gray-700 mb-1">Tel√©fono</label>
        <input class="w-full rounded-lg border px-3 py-2"
               [readOnly]="!edit"
               [(ngModel)]="draft.telefono" [value]="model.telefono" />
      </div>

      <div class="grid grid-cols-1 md:grid-cols-2 gap-5">
        <!-- ciudad -->
        <div>
          <label class="block text-sm font-medium text-gray-700 mb-1">Ciudad</label>
          <input class="w-full rounded-lg border px-3 py-2"
                 [readOnly]="!edit"
                 [(ngModel)]="draft.ciudad" [value]="model.ciudad" />
        </div>

        <!-- pa√≠s -->
        <div>
          <label class="block text-sm font-medium text-gray-700 mb-1">Pa√≠s</label>
          <input class="w-full rounded-lg border px-3 py-2"
                 [readOnly]="!edit"
                 [(ngModel)]="draft.pais" [value]="model.pais" />
        </div>
      </div>
    </div>
  </div>
</div>